<!DOCTYPE html>
<html lang="en" class="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>MealMiles – Loyalty & Ordering Marketplace for Restaurants</title>
  <link rel="icon" href="consumerAppIcon.png" type="image/png" />
  <meta name="description" content="MealMiles is a marketplace app that lets diners order from local restaurants and earn points. Restaurants are the sellers of record and fulfill orders; payments are processed by Stripe." />

  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          colors: { primary:'#ea3c53', surface:'#181926', card:'#232337', muted:'#767680' }
        }
      }
    }
  </script>

  <!-- JSON-LD -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"Organization",
    "name":"MealMiles Enterprises Limited",
    "url":"https://getmealmiles.com",
    "address": {
      "@type":"PostalAddress",
      "addressLocality":"Surrey",
      "addressRegion":"British Columbia",
      "addressCountry":"CA"
    },
    "logo":"https://getmealmiles.com/consumerAppIcon.png"
  }
  </script>

  <style>
    /* cards + badges */
    .mm-card {
      background: linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,0));
      border: 1px solid rgba(255,255,255,.06);
      box-shadow: 0 8px 30px rgba(0,0,0,.22);
    }
    .mm-badge {
      background: linear-gradient(135deg, #EE517F, #6C72FF);
      box-shadow: 0 6px 20px rgba(238,81,127,.25);
      transition: transform .08s ease, box-shadow .2s ease, filter .2s ease;
    }
    .mm-badge:hover { transform: translateY(-1px); box-shadow: 0 10px 28px rgba(238,81,127,.35); }
    .badge__chip{
      width:36px;height:36px;border-radius:9999px;
      display:grid;place-items:center;background:rgba(255,255,255,.10);
      box-shadow:0 0 0 1px rgba(255,255,255,.18) inset;flex-shrink:0;line-height:0;
    }
    .badge__svg{width:26px;height:26px;display:block;color:#ffffff}
    .ios-nudge{transform:translate(0px, .5px); transform-box:fill-box; transform-origin:center;}
    .and-nudge{transform:translate(0px, 0px); transform-box:fill-box; transform-origin:center;}

    @keyframes fadein { from{opacity:0;transform:translateY(-10px)} to{opacity:1;transform:none} }
    .animate-fadein { animation: fadein .3s ease-out forwards }
  </style>
</head>

<body class="dark bg-surface text-gray-200 font-sans antialiased">

  <!-- Header / Nav -->
  <header class="fixed w-full bg-card/90 backdrop-blur z-50 border-b border-zinc-800 shadow-lg">
    <div class="max-w-6xl mx-auto px-4 flex items-center justify-between h-16">
      <a href="index.html" class="flex items-center space-x-2">
        <img src="consumerAppIcon.png" alt="MealMiles logo" class="h-10 w-auto rounded-lg" />
        <span class="text-2xl font-bold text-primary tracking-wide">MealMiles</span>
      </a>

      <nav class="hidden md:flex items-center gap-6 flex-nowrap whitespace-nowrap">
        <a href="#features" class="hover:text-primary transition text-sm">Features</a>
        <a href="#unified-deals" class="hover:text-primary transition text-sm">Unified Deals</a>
        <a href="#how-it-works" class="hover:text-primary transition text-sm">How It Works</a>
        <a href="#download" class="hover:text-primary transition text-sm">Download App</a>
        <a href="download/partner/" class="hover:text-primary transition text-sm">Partner App</a>
        <a href="#trust" class="hover:text-primary transition text-sm">Trust & Policies</a>
        <a href="#contact" class="bg-primary text-white px-3 py-2 rounded-lg hover:bg-red-700 transition text-sm">Request a Demo</a>
      </nav>

      <!-- Mobile menu button -->
      <button id="mobile-menu-button" class="md:hidden p-2" aria-label="Open menu">
        <svg class="w-7 h-7 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
        </svg>
      </button>
    </div>

    <!-- Mobile menu -->
    <div id="mobile-menu" class="md:hidden bg-card shadow-lg hidden border-b border-zinc-800">
      <a href="#features" class="block px-4 py-2 hover:bg-surface transition">Features</a>
      <a href="#unified-deals" class="block px-4 py-2 hover:bg-surface transition">Unified Deals</a>
      <a href="#how-it-works" class="block px-4 py-2 hover:bg-surface transition">How It Works</a>
      <a href="#download" class="block px-4 py-2 hover:bg-surface transition">Download App</a>
      <a href="download/partner/" class="block px-4 py-2 hover:bg-surface transition">Partner App</a>
      <a href="#trust" class="block px-4 py-2 hover:bg-surface transition">Trust & Policies</a>
      <a href="#contact" class="block px-4 py-2 text-white bg-primary hover:bg-red-700 rounded-lg transition">Request a Demo</a>
    </div>
  </header>

  <main class="pt-24 md:pt-28 pb-12">

    <!-- Partner CTA -->
    <section id="partner-cta" class="bg-card/70 border-b border-zinc-800">
      <div class="max-w-6xl mx-auto px-4 py-3 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3">
        <div class="flex items-center gap-3">
          <img src="partnerAppIcon.png" alt="" class="h-8 w-8 rounded-md"
               onerror="this.onerror=null;this.src='consumerAppIcon.png';" />
          <p class="text-sm text-zinc-300">
            <span class="text-white font-semibold">For Restaurants:</span>
            Manage orders, menus, deals & payouts with the MealMiles Partner app.
          </p>
        </div>
        <div class="flex items-center gap-2">
          <a href="download/partner/"
             class="mm-badge inline-flex items-center gap-2 px-3 py-2 rounded-lg border border-white/20 text-sm">
            Download Partner App
          </a>
          <a href="#features"
             class="inline-flex items-center gap-2 px-3 py-2 rounded-lg border border-white/10 bg-white/5 hover:bg-white/10 text-sm">
            See features
          </a>
        </div>
      </div>
    </section>

    <!-- Hero -->
    <section id="hero" class="bg-gradient-to-b from-[#232337] to-surface py-16 md:py-24 animate-fadein">
      <div class="max-w-4xl mx-auto text-center px-4">
        <h1 class="text-4xl md:text-5xl font-extrabold mb-6 text-white tracking-tight drop-shadow-lg">
          Grow Repeat Sales with Digital Loyalty<br/>and Table-Side Ordering
        </h1>
        <p class="text-lg md:text-xl text-zinc-300 mb-8 max-w-2xl mx-auto">
          MealMiles gives your restaurant its own storefront in a single consumer app.
          Reward diners, unify deals, and offer frictionless pickup and table-side ordering—no new hardware.
        </p>
        <a href="#download" class="inline-block bg-primary text-white px-7 py-3 rounded-2xl text-lg font-semibold shadow hover:bg-red-700 transition mb-8">
          Download the App
        </a>

        <div class="w-full flex justify-center mt-6">
          <div class="rounded-xl shadow-2xl overflow-hidden border-4 border-zinc-800 max-w-2xl w-full aspect-video">
            <iframe
              src="https://www.youtube.com/embed/sCCsxW6CaCU?controls=1"
              title="MealMiles Overview"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
              allowfullscreen class="w-full h-full"></iframe>
          </div>
        </div>
      </div>
    </section>

    <!-- Download -->
    <section id="download" class="py-16 bg-card">
      <div class="max-w-5xl mx-auto px-4">
        <h2 class="text-3xl font-bold mb-3 text-white text-center">Download the MealMiles App</h2>
        <p class="text-zinc-300 text-center mb-8">Start earning points and redeeming rewards at participating restaurants.</p>

        <div class="grid gap-6 md:grid-cols-2">
          <!-- iOS -->
          <div class="mm-card rounded-2xl p-6">
            <div class="flex items-center gap-2 mb-3">
              <span class="inline-block w-2.5 h-2.5 rounded-full bg-emerald-400 ring-4 ring-emerald-400/20"></span>
              <span class="px-2 py-1 text-xs rounded-full bg-white/5 border border-white/10">iOS • Available</span>
            </div>
            <h3 class="text-xl font-semibold text-white mb-1">MealMiles for iPhone</h3>
            <p class="text-zinc-300 mb-4">Earn points at participating restaurants and redeem them for deals and items. Works on iPhone and iPad.</p>

            <a href="https://apps.apple.com/app/id6746139210" target="_blank" rel="noopener"
               class="mm-badge inline-flex items-center gap-3 px-4 py-3 rounded-xl border border-white/20 will-change-transform">
              <span class="badge__chip" aria-hidden="true">
                <!-- Apple logo (inline) -->
                <svg class="badge__svg ios-nudge" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" role="img" aria-hidden="true">
                  <path d="M16.365 12.552c.03 3.016 2.647 4.022 2.678 4.037-.021.066-.42 1.44-1.392 2.838-.84 1.2-1.722 2.436-3.084 2.46-1.206.024-1.971-.798-3.3-.798-1.317 0-2.154.774-3.3.81-1.335.036-2.346-1.164-3.192-2.355-1.734-2.448-3.066-6.912-1.296-9.96.9-1.548 2.487-2.517 4.212-2.553 1.317-.024 2.559.87 3.3.87.729 0 2.28-1.02 3.987-.876.672.012 2.559.27 3.768 2.052-.102.066-2.475 1.416-2.481 4.275zM14.244 3.33c.666-.81 1.128-1.944 1.008-3.03-1.008.042-2.235.642-2.955 1.47-.648.75-1.221 1.932-1.074 3.006 1.14.084 2.28-.57 3.021-1.446z" fill="currentColor"/>
                </svg>
              </span>
              <span class="leading-tight">
                <small class="block text-xs opacity-90">Download on the</small>
                <span class="text-sm font-semibold">App Store</span>
              </span>
            </a>

            <p class="text-sm text-zinc-400 mt-4">Tip: For printed QR codes, use <code>https://getmealmiles.com/download/</code>. We’ll update links there as stores go live.</p>
          </div>

          <!-- Android -->
          <div class="mm-card rounded-2xl p-6">
            <div class="flex items-center gap-2 mb-3">
              <span class="inline-block w-2.5 h-2.5 rounded-full bg-emerald-400 ring-4 ring-emerald-400/20"></span>
              <span class="px-2 py-1 text-xs rounded-full bg-white/5 border border-white/10">Android • Available</span>
            </div>
            <h3 class="text-xl font-semibold text-white mb-1">MealMiles for Android</h3>
            <p class="text-zinc-300 mb-4">Get MealMiles on Google Play for fast pickup &amp; dine-in ordering and rewards.</p>

            <a href="https://play.google.com/store/apps/details?id=com.mealmiles.app" target="_blank" rel="noopener"
               class="mm-badge inline-flex items-center gap-3 px-4 py-3 rounded-xl border border-white/20 will-change-transform">
              <span class="badge__chip" aria-hidden="true">
                <!-- Android robot (inline) -->
                <svg class="badge__svg and-nudge" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" role="img" aria-hidden="true">
                  <path d="M7.1 6.2 5.7 4.1a.6.6 0 1 1 1-.6l1.5 2.2A8.7 8.7 0 0 1 12 4.9c1.55 0 3 .39 4.3 1l1.5-2.2a.6.6 0 1 1 1 .6l-1.4 2.1A7.5 7.5 0 0 1 20 11.2V17a1.9 1.9 0 0 1-1.9 1.9h-.7V21a1 1 0 0 1-2 0v-2.1H8.6V21a1 1 0 1 1-2 0v-2.1h-.7A1.9 1.9 0 0 1 4 17v-5.8c0-2.07 1.1-3.9 3.1-5zM9 9.5a.9.9 0 1 0 0-1.8.9.9 0 0 0 0 1.8zm6 0a.9.9 0 1 0 0-1.8.9.9 0 0 0 0 1.8z" fill="currentColor"/>
                </svg>
              </span>
              <span class="leading-tight">
                <small class="block text-xs opacity-90">Get it on</small>
                <span class="text-sm font-semibold">Google Play</span>
              </span>
            </a>

            <p class="text-sm text-zinc-400 mt-4">If a built-in browser blocks the Play Store, open the page menu (•••) and choose <em>Open in browser</em>, then try again.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Why Loyalty -->
    <section id="why-loyalty" class="py-20 bg-card">
      <div class="max-w-4xl mx-auto text-center px-4">
        <h2 class="text-3xl font-bold mb-10 text-white">Why Loyalty Matters for Your Restaurant</h2>
        <div class="grid gap-8 md:grid-cols-3">
          <div class="p-6"><p class="text-4xl font-extrabold text-primary drop-shadow">+45%</p><p class="mt-2 text-zinc-300">avg. increase in repeat visits</p></div>
          <div class="p-6"><p class="text-4xl font-extrabold text-primary drop-shadow">+12%</p><p class="mt-2 text-zinc-300">increase in average spend</p></div>
          <div class="p-6"><p class="text-4xl font-extrabold text-primary drop-shadow">80%</p><p class="mt-2 text-zinc-300">of guests prefer digital rewards</p></div>
        </div>
        <p class="mt-10 text-zinc-400 text-base">Studies show digital loyalty drives double-digit growth—now you can deliver those results in your restaurant.</p>
      </div>
    </section>

    <!-- Features -->
    <section id="features" class="py-20 bg-surface">
      <div class="max-w-6xl mx-auto px-4">
        <h2 class="text-3xl font-bold text-center mb-12 text-white">Partner Benefits</h2>
        <div class="grid gap-8 md:grid-cols-3">
          <div class="p-6 bg-card rounded-2xl shadow-xl hover:scale-105 transition"><h3 class="text-xl font-semibold mb-2 text-primary">Custom Rewards</h3><p class="text-zinc-300">Define point rules: BOGO, %-off, tiers, and more.</p></div>
          <div class="p-6 bg-card rounded-2xl shadow-xl hover:scale-105 transition"><h3 class="text-xl font-semibold mb-2 text-primary">Real-Time Analytics</h3><p class="text-zinc-300">See who’s earning, redeeming, and boosting revenue.</p></div>
          <div class="p-6 bg-card rounded-2xl shadow-xl hover:scale-105 transition"><h3 class="text-xl font-semibold mb-2 text-primary">Seamless Integration</h3><p class="text-zinc-300">Use our web admin or plug into your POS—no hardware.</p></div>
          <div class="p-6 bg-card rounded-2xl shadow-xl hover:scale-105 transition"><h3 class="text-xl font-semibold mb-2 text-primary">Guest Insights</h3><p class="text-zinc-300">Identify top guests and send targeted offers.</p></div>
          <div class="p-6 bg-card rounded-2xl shadow-xl hover:scale-105 transition"><h3 class="text-xl font-semibold mb-2 text-primary">Mobile Ordering</h3><p class="text-zinc-300">Offer pickup and dine-in ordering in the MealMiles app.</p></div>
          <div class="p-6 bg-card rounded-2xl shadow-xl hover:scale-105 transition"><h3 class="text-xl font-semibold mb-2 text-primary">Dine-In Ordering</h3><p class="text-zinc-300">Guests enter a table number—less friction, faster turns.</p></div>
        </div>
      </div>
    </section>

    <!-- Unified Deals -->
    <section id="unified-deals" class="py-20 bg-card">
      <div class="max-w-5xl mx-auto px-4 text-center">
        <h2 class="text-3xl font-bold mb-6 text-white">Unified Deals &amp; Offers</h2>
        <p class="text-lg text-zinc-300 mb-8">Every coupon, BOGO, and flash deal lives in one app—so you drive traffic, not confusion.</p>
        <div class="grid gap-8 md:grid-cols-2">
          <div class="flex items-start"><span class="mr-4 text-primary text-2xl">✔</span><div><h4 class="text-xl font-semibold mb-1 text-primary">Automatic Points</h4><p class="text-zinc-300">Points apply and redeem seamlessly—no punch cards.</p></div></div>
          <div class="flex items-start"><span class="mr-4 text-primary text-2xl">✔</span><div><h4 class="text-xl font-semibold mb-1 text-primary">All Deals in One Place</h4><p class="text-zinc-300">BOGO, %-off, loyalty tiers—guests never miss an offer.</p></div></div>
        </div>
      </div>
    </section>

    <!-- How It Works -->
    <section id="how-it-works" class="py-20 bg-surface">
      <div class="max-w-4xl mx-auto px-4 text-center">
        <h2 class="text-3xl font-bold mb-10 text-white">How It Works</h2>
        <div class="grid gap-10 md:grid-cols-3">
          <div class="p-6 bg-card rounded-2xl shadow-xl"><h3 class="text-xl font-semibold mb-2 text-primary">1. Onboard</h3><p class="text-zinc-300">Upload menu & rewards—your storefront is ready fast.</p></div>
          <div class="p-6 bg-card rounded-2xl shadow-xl"><h3 class="text-xl font-semibold mb-2 text-primary">2. Go Live</h3><p class="text-zinc-300">We integrate your restaurant—discoverable in the app.</p></div>
          <div class="p-6 bg-card rounded-2xl shadow-xl"><h3 class="text-xl font-semibold mb-2 text-primary">3. Order &amp; Earn</h3><p class="text-zinc-300">Diners order pickup/dine-in, earn points, redeem rewards.</p></div>
        </div>
      </div>
    </section>

    <!-- Trust & Policies -->
    <section id="trust" class="py-20 bg-card">
      <div class="max-w-5xl mx-auto px-4">
        <h2 class="text-3xl font-bold mb-6 text-white text-center">Trust, Payments & Policies</h2>

        <div class="grid md:grid-cols-2 gap-8 text-zinc-300">
          <div class="bg-surface rounded-2xl p-6 border border-zinc-800">
            <h3 class="text-xl font-semibold text-primary mb-2">Who We Are</h3>
            <p>
              <strong class="text-white">MealMiles Enterprises Limited</strong> (“MealMiles”) is a Canadian software
              platform based in <em>Surrey, British Columbia, Canada</em> that connects diners with independent restaurants.
              For any questions, please use the contact form below.
            </p>
          </div>

          <div class="bg-surface rounded-2xl p-6 border border-zinc-800">
            <h3 class="text-xl font-semibold text-primary mb-2">Merchant of Record</h3>
            <p>
              Orders are sold and fulfilled by the <strong>restaurant</strong> you choose.
              The restaurant is the <em>merchant of record</em>. MealMiles provides the ordering platform and technical support.
            </p>
            <p class="mt-2">Your card statement may display the restaurant name as the descriptor.</p>
          </div>

          <div class="bg-surface rounded-2xl p-6 border border-zinc-800">
            <h3 class="text-xl font-semibold text-primary mb-2">When You’re Charged</h3>
            <p>
              Customers are charged at checkout in CAD. Taxes and any service fees are shown before you pay.
              Payments are processed securely by <strong>Stripe</strong>. MealMiles does not store full card numbers.
            </p>
          </div>

          <div class="bg-surface rounded-2xl p-6 border border-zinc-800">
            <h3 class="text-xl font-semibold text-primary mb-2">Refunds & Cancellations</h3>
            <p>
              You may cancel an order within <strong>5 minutes</strong> of placing it <em>or</em> before the restaurant
              starts preparing the order, whichever happens first. After that time, refunds are at the restaurant’s
              discretion. If the restaurant cancels an order (e.g., out of stock or closed), you’ll receive a full refund.
              Use the order receipt or the form below if you need help.
            </p>
          </div>

          <div class="bg-surface rounded-2xl p-6 border border-zinc-800 md:col-span-2">
            <h3 class="text-xl font-semibold text-primary mb-2">Loyalty Points</h3>
            <p>
              Customers may earn MealMiles points at participating restaurants. Points have no cash value,
              are non-transferable, and may expire; redemptions depend on each restaurant’s availability.
              See our <a href="legal/consumer/terms.html" class="text-primary hover:underline">Consumer Terms of Service</a>.
            </p>
          </div>
        </div>

        <!-- Quick links -->
        <div class="mt-10 grid md:grid-cols-2 gap-6">
          <div class="bg-surface rounded-2xl p-6 border border-zinc-800">
            <h3 class="text-lg font-semibold text-white mb-3">Consumer App</h3>
            <ul class="space-y-2 text-primary">
              <li><a class="hover:underline" href="legal/consumer/privacy.html">Privacy Policy (Consumer)</a></li>
              <li><a class="hover:underline" href="legal/consumer/terms.html">Terms of Service (Consumer)</a></li>
            </ul>
          </div>
          <div class="bg-surface rounded-2xl p-6 border border-zinc-800">
            <h3 class="text-lg font-semibold text-white mb-3">Partner App</h3>
            <ul class="space-y-2 text-primary">
              <li><a class="hover:underline" href="legal/partner/privacy.html">Privacy Policy (Partner)</a></li>
              <li><a class="hover:underline" href="legal/partner/terms.html">Terms of Service (Partner)</a></li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- Demo CTA -->
    <section id="demo" class="py-20 text-center bg-card">
      <div class="max-w-2xl mx-auto px-4">
        <h2 class="text-3xl font-bold mb-4 text-white">Ready to Supercharge Sales & Efficiency?</h2>
        <p class="text-zinc-300 mb-8">Schedule a personalized demo and see how MealMiles can boost your margins and drive repeat business.</p>
        <a href="#contact" class="bg-primary text-white px-8 py-3 rounded-2xl hover:bg-red-700 transition">Contact Sales</a>
      </div>
    </section>

    <!-- Contact -->
    <section id="contact" class="py-20 bg-surface">
      <div class="max-w-xl mx-auto px-4">
        <h2 class="text-3xl font-bold text-center mb-6 text-white">Get in Touch</h2>
        <form
          id="contact-form"
          action="https://us-central1-mealmiles-b47e2.cloudfunctions.net/contactForm"
          method="POST"
          class="space-y-4"
        >
          <input name="name" type="text" placeholder="Your Name" required
            class="w-full px-4 py-3 bg-card border border-zinc-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-white" />
          <input name="email" type="email" placeholder="Your Email" required
            class="w-full px-4 py-3 bg-card border border-zinc-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-white" />
          <input name="restaurant" type="text" placeholder="Restaurant Name" required
            class="w-full px-4 py-3 bg-card border border-zinc-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-white" />
          <textarea name="message" rows="4" placeholder="How can we help?"
            class="w-full px-4 py-3 bg-card border border-zinc-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-white"></textarea>
          <button type="submit"
            class="w-full bg-primary text-white px-4 py-3 rounded-lg hover:bg-red-700 transition">
            Send Message
          </button>
        </form>
        <div id="toast-container" class="fixed top-4 right-4 space-y-2 z-50"></div>
      </div>
    </section>

  </main>

  <!-- Footer -->
  <footer class="bg-card border-t border-zinc-800 py-6">
    <div class="max-w-6xl mx-auto px-4 flex flex-col md:flex-row items-center justify-between text-zinc-500 gap-3">
      <div>&copy; 2025 <span class="text-primary">MealMiles</span>. All rights reserved.</div>
      <nav class="flex items-center gap-4 text-sm">
        <a href="legal/consumer/terms.html" class="hover:text-primary">Consumer Terms</a>
        <a href="legal/consumer/privacy.html" class="hover:text-primary">Consumer Privacy</a>
        <a href="legal/partner/terms.html" class="hover:text-primary">Partner Terms</a>
        <a href="legal/partner/privacy.html" class="hover:text-primary">Partner Privacy</a>
        <a href="#trust" class="hover:text-primary">Refunds & Policies</a>
        <a href="#contact" class="hover:text-primary">Support</a>
      </nav>
    </div>
  </footer>

  <!-- Toast helper -->
  <div id="toast-root"></div>
  <script>
    function showToast(message, type='success'){
      const container=document.getElementById('toast-container');
      const bg=type==='success'?'bg-green-600':'bg-red-600';
      const el=document.createElement('div');
      el.className=`px-4 py-2 text-white rounded shadow-lg ${bg} opacity-0`;
      el.textContent=message; container.appendChild(el);
      requestAnimationFrame(()=>{ el.style.transition='opacity .25s'; el.style.opacity=1; });
      setTimeout(()=>{ el.style.opacity=0; setTimeout(()=>el.remove(),250); },4000);
    }

    document.addEventListener('DOMContentLoaded', () => {
      document.getElementById('mobile-menu-button').addEventListener('click', () => {
        document.getElementById('mobile-menu').classList.toggle('hidden');
      });
    });
  </script>

  <!-- Firebase + App Check + form handler -->
  <script type="module">
    import { initializeApp } from 'https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js';
    import { initializeAppCheck, ReCaptchaV3Provider, getToken } from 'https://www.gstatic.com/firebasejs/9.22.0/firebase-app-check.js';

    const firebaseConfig = {
      apiKey: "AIzaSyBBfytsfHSuDFOOJ13N_q6-0tHDlPk-ZQc",
      authDomain: "mealmiles-b47e2.firebaseapp.com",
      projectId: "mealmiles-b47e2",
      storageBucket: "mealmiles-b47e2.firebasestorage.app",
      messagingSenderId: "751069884214",
      appId: "1:751069884214:web:c03379d555c36f22f0cd97",
      measurementId: "G-1BQD5LEDYM"
    };

    const app = initializeApp(firebaseConfig);
    const appCheck = initializeAppCheck(app, {
      provider: new ReCaptchaV3Provider("6LfyoZorAAAAAJ3bGbJ1t2oXy1H6G3chxC7wvg8s"),
      isTokenAutoRefreshEnabled: true
    });

    const form=document.getElementById('contact-form');
    if(form){
      form.addEventListener('submit', async e => {
        e.preventDefault();
        const data = {
          name: form.name.value.trim(),
          email: form.email.value.trim(),
          restaurant: form.restaurant.value.trim(),
          message: form.message.value.trim()
        };
        let tokenResult;
        try { tokenResult = await getToken(appCheck, false); }
        catch(e){ console.error(e); showToast('Could not verify App Check','error'); return; }

        try {
          const res = await fetch(form.action, {
            method:'POST',
            headers:{ 'Content-Type':'application/json','X-Firebase-AppCheck': tokenResult.token },
            body: JSON.stringify(data)
          });
          if(!res.ok) throw new Error(await res.text());
          showToast('✅ Your inquiry has been sent!','success'); form.reset();
        } catch(err){ console.error(err); showToast('❌ Something went wrong. Please try again.','error'); }
      });
    }
  </script>
</body>
</html>
